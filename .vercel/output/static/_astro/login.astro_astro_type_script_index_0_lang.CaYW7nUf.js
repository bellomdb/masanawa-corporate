import{s as d}from"./supabase.CKRq0-68.js";const t=document.getElementById("login-btn"),r=document.getElementById("email"),c=document.getElementById("password"),a=document.getElementById("error-message");t?.addEventListener("click",async()=>{const e=r.value,n=c.value;if(!e||!n){i("Please enter both email and password");return}t.textContent="Signing in...",t.setAttribute("disabled","true"),a?.classList.add("hidden");try{const{data:s,error:o}=await d.auth.signInWithPassword({email:e,password:n});if(o)throw o;s.session&&(document.cookie=`sb-access-token=${s.session.access_token}; path=/; max-age=604800; SameSite=Lax`,document.cookie=`sb-refresh-token=${s.session.refresh_token}; path=/; max-age=604800; SameSite=Lax`,window.location.replace("/kwata/projects"))}catch(s){i(s.message||"Failed to sign in"),t.textContent="Sign in",t.removeAttribute("disabled")}});function i(e){a&&(a.textContent=e,a.classList.remove("hidden"))}[r,c].forEach(e=>{e?.addEventListener("keypress",n=>{n.key==="Enter"&&t?.click()})});
